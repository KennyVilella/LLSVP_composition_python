<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>API: Calculation of spin configuration &mdash; LLSVP composition calculator  documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../_static/jquery.js"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/sphinx_highlight.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="API: Calculation of mineral composition" href="mineral_composition.html" />
    <link rel="prev" title="API: Classes implementing the equation of state for each mineral" href="eos_implementation.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            LLSVP composition calculator
          </a>
              <div class="version">
                0.0.0
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../index.html">Home</a></li>
<li class="toctree-l1"><a class="reference internal" href="../quickstart.html">Quickstart guide</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../api.html">General documentation</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../api.html">Home</a></li>
<li class="toctree-l2"><a class="reference internal" href="mineral_properties.html">class MineralProperties</a></li>
<li class="toctree-l2"><a class="reference internal" href="eos_implementation.html">EOS implementation</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Spin configuration</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#src._spin_configuration._calc_spin_configuration"><code class="docutils literal notranslate"><span class="pre">_calc_spin_configuration()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#src._spin_configuration._energy_equation"><code class="docutils literal notranslate"><span class="pre">_energy_equation()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#src._spin_configuration._splitting_energy"><code class="docutils literal notranslate"><span class="pre">_splitting_energy()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="mineral_composition.html">Mineral composition</a></li>
<li class="toctree-l2"><a class="reference internal" href="seismic_anomalies.html">Seismic anomalies</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">LLSVP composition calculator</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../api.html">API</a></li>
      <li class="breadcrumb-item active">API: Calculation of spin configuration</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/_api/spin_configuration.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="api-calculation-of-spin-configuration">
<h1>API: Calculation of spin configuration<a class="headerlink" href="#api-calculation-of-spin-configuration" title="Permalink to this heading"></a></h1>
<dl class="py function">
<dt class="sig sig-object py" id="src._spin_configuration._calc_spin_configuration">
<span class="sig-prename descclassname"><span class="pre">src._spin_configuration.</span></span><span class="sig-name descname"><span class="pre">_calc_spin_configuration</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self)</span> <span class="pre">-&gt;</span> <span class="pre">(&lt;class</span> <span class="pre">'numpy.ndarray'&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">&lt;class</span> <span class="pre">'numpy.ndarray'&gt;</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#src._spin_configuration._calc_spin_configuration" title="Permalink to this definition"></a></dt>
<dd><p>Calculates the spin configuration of FeO in Ferropericlase.</p>
<p>This function calculates the average spin state of FeO in Ferropericlase (Fp). The
spin state of FeO in Fp changes with varying pressure and temperature. In particular,
at ambient conditions, FeO is in a high spin state, while in the lowermost part of
the Earth’s mantle, FeO is in a low spin state. This transition from high spin state
to low spin state is known as the spin state transition and is associated with an
increase in density.</p>
<p>In this model, the proportion of FeO in a low spin state (eta_ls) is determined by
finding the value of eta_ls that minimizes the Helmholtz free energy (F), this state
corresponding to the most stable configuration. More specifically, the function
searches for values of eta_ls giving a derivative of F with respect to eta_ls equal
to zero. Since multiple local minima can exist, the calculation is repeated with
three different initial conditions, and the solution with the lowest F value is
selected.</p>
<p>The model used in this function is based on the work of Sturhahn et al. (2005) and
is described in detail in Vilella et al. (2015).</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A tuple of np.ndarray composed of the average spin state of FeO in Fp and the
pressure for a given value for the temperature, volume of Fp, and FeO content
in Fp.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src._spin_configuration._energy_equation">
<span class="sig-prename descclassname"><span class="pre">src._spin_configuration.</span></span><span class="sig-name descname"><span class="pre">_energy_equation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spin_state</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">v_0</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">v</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">float</span></span></span><a class="headerlink" href="#src._spin_configuration._energy_equation" title="Permalink to this definition"></a></dt>
<dd><p>Calculates the energy level of Fe2+ associated with a given spin state.</p>
<p>This function calculates the energy level of Fe2+ in Ferropericlase (Fp) for a given
spin state (low spin state, mixed spin state, or high spin state), as shown in the
Fig. 1 of Sturhahn et al. (2005).</p>
<p>The energy level has two main contributions:
- The energy difference between the two electronic levels (delta_energy).
- The energy required to pair two electrons (pairing_energy).</p>
<p>Note that the mixed spin state is considered to be unstable and is not used in
the simulator.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>spin_state</strong> – Indicates the spin state considered.
1 for low spin state, 2 for mixed spin state, and 3 for high
spin state.</p></li>
<li><p><strong>v_0</strong> – Volume of Ferropericlase at ambient conditions. [A^3]</p></li>
<li><p><strong>v</strong> – Volume of Ferropericlase at considered conditions. [A^3]</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Energy of the spin state. [eV]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src._spin_configuration._splitting_energy">
<span class="sig-prename descclassname"><span class="pre">src._spin_configuration.</span></span><span class="sig-name descname"><span class="pre">_splitting_energy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x_fp</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">v_0</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">v</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">float</span></span></span><a class="headerlink" href="#src._spin_configuration._splitting_energy" title="Permalink to this definition"></a></dt>
<dd><p>Calculates the splitting energy.</p>
<p>This function calculates the coupling energy between low spin state iron atoms
in Ferropericlase (Fp).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x_fp</strong> – FeO content in ferropericlase.</p></li>
<li><p><strong>v_0</strong> – Volume of Ferropericlase at ambient conditions. [A^3]</p></li>
<li><p><strong>v</strong> – Volume of Ferropericlase at considered conditions. [A^3]</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The splitting energy. [eV]</p>
</dd>
</dl>
</dd></dl>

</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="eos_implementation.html" class="btn btn-neutral float-left" title="API: Classes implementing the equation of state for each mineral" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="mineral_composition.html" class="btn btn-neutral float-right" title="API: Calculation of mineral composition" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023,  Vilella Kenny.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>